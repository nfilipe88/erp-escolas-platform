<div class="max-w-5xl mx-auto mt-10 mb-20 p-8 bg-white shadow-xl rounded-xl border-t-8 border-blue-900">

  <div class="flex justify-between items-center mb-8 border-b pb-4">
    <div>
      <h1 class="text-3xl font-black text-gray-800">âš™ï¸ ConfiguraÃ§Ãµes da Escola</h1>
      <p class="text-gray-500">Defina as regras financeiras e acadÃ©micas da sua instituiÃ§Ã£o.</p>
    </div>

    <button (click)="salvar()" [disabled]="salvando"
      class="bg-blue-900 hover:bg-blue-800 text-white font-bold py-3 px-8 rounded-lg shadow-lg transition transform hover:scale-105 disabled:opacity-50 flex items-center gap-2">
      <span *ngIf="salvando">ğŸ’¾ A guardar...</span>
      <span *ngIf="!salvando">ğŸ’¾ Salvar AlteraÃ§Ãµes</span>
    </button>
  </div>

  <div *ngIf="sucesso" class="mb-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg flex items-center animate-bounce">
    âœ… ConfiguraÃ§Ãµes atualizadas com sucesso! As novas regras jÃ¡ estÃ£o em vigor.
  </div>

  <div *ngIf="config" class="grid grid-cols-1 md:grid-cols-2 gap-10">

    <div class="space-y-6">
      <h2 class="text-xl font-bold text-blue-900 border-b-2 border-blue-100 pb-2">ğŸ’° Regras Financeiras</h2>

      <div>
        <label class="block text-sm font-bold text-gray-700 mb-1">Valor Base da Mensalidade</label>
        <div class="relative">
          <span class="absolute left-3 top-2 text-gray-500 font-bold">Kz</span>
          <input [(ngModel)]="config.valor_mensalidade_padrao" type="number"
             class="w-full pl-10 p-2 border-2 border-gray-300 rounded focus:border-blue-500 font-bold text-lg text-gray-800">
        </div>
        <p class="text-xs text-gray-400 mt-1">Este valor serÃ¡ usado para novos carnets.</p>
      </div>

      <div class="grid grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-bold text-gray-700 mb-1">Dia de Vencimento</label>
          <input [(ngModel)]="config.dia_vencimento" type="number" min="1" max="28"
             class="w-full p-2 border-2 border-gray-300 rounded focus:border-blue-500 text-center font-bold">
        </div>
        <div>
          <label class="block text-sm font-bold text-red-600 mb-1">Multa Atraso (%)</label>
          <input [(ngModel)]="config.multa_atraso_percentual" type="number" step="0.1"
             class="w-full p-2 border-2 border-red-200 rounded focus:border-red-500 text-center font-bold text-red-700">
        </div>
      </div>

      <div>
        <label class="block text-sm font-bold text-green-600 mb-1">Desconto Pagamento Anual (%)</label>
        <div class="flex items-center gap-2">
          <input [(ngModel)]="config.desconto_pagamento_anual" type="number" step="0.5"
             class="w-full p-2 border-2 border-green-200 rounded focus:border-green-500 font-bold text-green-700">
          <span class="text-green-700 font-bold">%</span>
        </div>
      </div>
    </div>

    <div class="space-y-6">
      <h2 class="text-xl font-bold text-blue-900 border-b-2 border-blue-100 pb-2">ğŸ“ Ano Letivo & Notas</h2>

      <div class="bg-blue-50 p-4 rounded-lg border border-blue-100">
        <label class="block text-sm font-bold text-blue-900 mb-3">Ciclo do Ano Letivo</label>
        <div class="grid grid-cols-2 gap-4">
          <div>
            <span class="text-xs text-gray-500 uppercase font-bold">InÃ­cio (MÃªs)</span>
            <select [(ngModel)]="config.mes_inicio_cobranca" class="w-full mt-1 p-2 border rounded font-medium">
              <option [value]="1">Janeiro</option>
              <option [value]="2">Fevereiro</option>
              <option [value]="9">Setembro</option>
            </select>
          </div>
          <div>
            <span class="text-xs text-gray-500 uppercase font-bold">Fim (MÃªs)</span>
            <select [(ngModel)]="config.mes_fim_cobranca" class="w-full mt-1 p-2 border rounded font-medium">
              <option [value]="6">Junho</option>
              <option [value]="7">Julho</option>
              <option [value]="12">Dezembro</option>
            </select>
          </div>
        </div>
        <p class="text-xs text-blue-600 mt-2">Isto define que meses aparecem no Carnet Financeiro.</p>
      </div>

      <div>
        <label class="block text-sm font-bold text-gray-700 mb-1">Nota MÃ­nima para AprovaÃ§Ã£o</label>
        <input [(ngModel)]="config.nota_minima_aprovacao" type="number" min="0" max="20"
           class="w-1/2 p-2 border-2 border-gray-300 rounded text-center font-bold">
      </div>

      <div class="pt-4 flex items-center gap-3">
        <input [(ngModel)]="config.bloquear_boletim_devedor" type="checkbox" id="bloq" class="w-5 h-5 text-blue-900">
        <label for="bloq" class="text-sm font-bold text-gray-700 cursor-pointer">
          Bloquear Boletim de Alunos Devedores?
          <p class="text-xs text-gray-400 font-normal">Se ativo, pais com mensalidades atrasadas nÃ£o conseguem ver as notas.</p>
        </label>
      </div>

    </div>

  </div>
</div>
