<div class="max-w-5xl mx-auto mt-8 px-4 grid grid-cols-1 md:grid-cols-3 gap-6 pb-10">

  <div class="bg-white p-6 rounded-lg shadow border border-gray-100 h-fit">

    <h3 class="text-lg font-bold mb-4" [ngClass]="editandoId ? 'text-yellow-600' : 'text-gray-800'">
      {{ editandoId ? 'Editar Disciplina ‚úèÔ∏è' : 'Nova Disciplina ‚ûï' }}
    </h3>

    <form (submit)="salvar()">
      <input [(ngModel)]="formDisciplina.nome" name="nome" placeholder="Nome (Ex: Matem√°tica)" required class="w-full p-2 border rounded mb-3 focus:ring-blue-500">
      <input [(ngModel)]="formDisciplina.codigo" name="codigo" placeholder="C√≥digo (Ex: MAT)" required class="w-full p-2 border rounded mb-3 focus:ring-blue-500">
      <input [(ngModel)]="formDisciplina.carga_horaria" name="carga" type="number" placeholder="Carga Hor√°ria (Ex: 80)" class="w-full p-2 border rounded mb-4 focus:ring-blue-500">

      <div class="flex gap-2">
        <button *ngIf="editandoId" type="button" (click)="cancelarEdicao()"
                class="flex-1 bg-gray-200 text-gray-700 font-bold py-2 rounded shadow hover:bg-gray-300 transition">
          Cancelar
        </button>

        <button type="submit"
                [ngClass]="editandoId ? 'bg-yellow-500 hover:bg-yellow-600' : 'bg-blue-900 hover:bg-blue-800'"
                class="flex-1 text-white font-bold py-2 rounded shadow transition">
          {{ editandoId ? 'Atualizar Dados' : 'Salvar Disciplina' }}
        </button>
      </div>
    </form>
  </div>

  <div class="md:col-span-2 bg-white rounded-lg shadow overflow-hidden">
    <table class="min-w-full">
      <thead class="bg-gray-50 text-gray-500 text-xs font-bold uppercase tracking-wider">
        <tr>
          <th class="px-6 py-4 text-left">C√≥digo</th>
          <th class="px-6 py-4 text-left">Nome da Disciplina</th>
          <th class="px-6 py-4 text-center">Horas</th>
          <th class="px-6 py-4 text-center">A√ß√µes</th> </tr>
      </thead>
      <tbody class="divide-y divide-gray-100">
        @for (d of disciplinas; track d.id) {
          <tr class="hover:bg-gray-50 transition" [ngClass]="{'bg-yellow-50': d.id === editandoId}">
            <td class="px-6 py-4 font-bold text-blue-900">{{ d.codigo }}</td>
            <td class="px-6 py-4 font-medium text-gray-800">{{ d.nome }}</td>
            <td class="px-6 py-4 text-center text-gray-600">{{ d.carga_horaria }}h</td>

            <td class="px-6 py-4 text-center flex justify-center gap-3">
              <button (click)="iniciarEdicao(d)" title="Editar"
                      class="text-blue-500 hover:text-blue-700 hover:scale-110 transition bg-blue-50 p-2 rounded-full">
                ‚úèÔ∏è
              </button>
              <button (click)="eliminar(d)" title="Eliminar"
                      class="text-red-500 hover:text-red-700 hover:scale-110 transition bg-red-50 p-2 rounded-full">
                üóëÔ∏è
              </button>
            </td>
          </tr>
        } @empty {
          <tr>
            <td colspan="4" class="px-6 py-10 text-center text-gray-400 italic">O cat√°logo de disciplinas est√° vazio.</td>
          </tr>
        }
      </tbody>
    </table>
  </div>

</div>
