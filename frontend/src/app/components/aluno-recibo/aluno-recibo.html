<div class="max-w-2xl mx-auto mt-10 print:mt-0 print:w-full">

  <div class="flex justify-between items-center mb-6 print:hidden">
    <a *ngIf="aluno" [routerLink]="['/aluno', aluno.id, 'financeiro']"
       class="text-gray-600 hover:text-blue-600 font-medium cursor-pointer">
       ‚Üê Voltar
    </a>
    <button (click)="imprimir()" class="bg-blue-900 text-white px-6 py-2 rounded shadow hover:bg-blue-800 transition flex items-center gap-2">
      üñ®Ô∏è Imprimir Recibo
    </button>
  </div>

  <div *ngIf="mensalidade && aluno"
       class="bg-white p-10 border-4 border-double border-gray-300 shadow-2xl print:shadow-none print:border-black">

    <div class="text-center border-b-2 border-gray-100 pb-6 mb-6">
      <h1 class="text-3xl font-bold text-gray-800 uppercase tracking-widest">Recibo de Pagamento</h1>
      <p class="text-gray-500 mt-2">ERP Escolar - Comprovativo Oficial</p>
      <p class="text-sm text-gray-400">Recibo N¬∫ {{ mensalidade.id }}/{{ mensalidade.ano }}</p>
    </div>

    <div class="space-y-6 text-gray-700">

      <div class="bg-gray-50 p-4 rounded border border-gray-200 print:bg-transparent print:border-0 print:p-0">
        <p class="text-xs uppercase text-gray-500 font-bold mb-1">Recebemos de:</p>
        <p class="text-xl font-bold">{{ aluno.nome }}</p>
        <p class="text-sm">BI: {{ aluno.bi || '---' }}</p>
      </div>

      <div class="flex justify-between items-center py-4 border-t border-b border-gray-100 print:border-black">
        <div>
          <p class="text-xs uppercase text-gray-500 font-bold">Referente a:</p>
          <p class="text-lg font-semibold">Mensalidade de {{ mensalidade.mes }} {{ mensalidade.ano }}</p>
        </div>
        <div class="text-right">
          <p class="text-xs uppercase text-gray-500 font-bold">Valor Pago:</p>
          <p class="text-3xl font-bold text-blue-900 print:text-black">
            {{ mensalidade.valor_base | currency:'AKZ ':'symbol':'1.0-0' }}
          </p>
        </div>
      </div>

      <div class="grid grid-cols-2 gap-4 text-sm mt-4">
        <div>
          <span class="font-bold">Forma de Pagamento:</span> {{ mensalidade.forma_pagamento }}
        </div>
        <div class="text-right">
          <span class="font-bold">Data do Pagamento:</span> {{ mensalidade.data_pagamento | date:'dd/MM/yyyy' }}
        </div>
      </div>

    </div>

    <div class="mt-16 pt-8 border-t border-dashed border-gray-300 print:border-black text-center">
      <div class="inline-block px-10 border-t border-black pt-2">
        <p class="font-script text-lg">A Secretaria</p>
      </div>
      <p class="text-xs text-gray-400 mt-4">Documento processado por computador a {{ dataHoje | date:'dd/MM/yyyy HH:mm' }}</p>
    </div>

  </div>

  <div *ngIf="!mensalidade" class="text-center py-20 text-gray-400">
    A carregar recibo...
  </div>
</div>
